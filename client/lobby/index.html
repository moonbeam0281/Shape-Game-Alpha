<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Lobby Dashboard</title>
  
  <link rel="stylesheet" href="style.css" />
  <script defer src="./page.ts"></script>
  <link rel="icon" href="data:," />
</head>

<body>
  <header>
    <h1>ðŸ§­ Welcome to the Shape War Lobby</h1>
    <p>Logged in as <strong id="playerNameDisplay"></strong> (ID: <span id="playerIdDisplay"></span>)</p>
  </header>

  <div class="sidebar">
    <img src="" alt="Profile image" width="100" height="100">
    <p>STATS:</p>
  </div>
  <main>
    <div class="mainHeader">
      <h2>Lobbies:</h2>
      <button onclick="openModal()">Create Lobby</button>
      <button onclick="loadLobbies()">Refresh</button>
      <button onclick="openLogout()">ðŸšª Log Out</button>
    </div>
    
    <div id="lobbyList">
      <!-- Dynamic lobby cards will go here -->
    </div>
  </main>

  <div class="sidebar-right">
    <h3>Online Players:</h3>
    <ul id="onlinePlayers">
      <!-- Filled dynamically -->
    </ul>
  </div>


  <div id="createLobbyModal" class="modal">
    <div class="modal-content">
      <h2>Create a Lobby</h2>
      <input id="lobbyNameInput" placeholder="Lobby name" />
      <input id="maxPlayersInput" type="number" placeholder="Max players" min="2" max="16" value="4" />
      <label>
        <input type="checkbox" id="allowSpectatorsInput" /> Allow spectators
      </label>
      <br /><br />
      <button onclick="confirmCreateLobby()">Create</button>
      <button onclick="closeModal()">Cancel</button>
    </div>
  </div>

  <div id="logoutModal" class="modal">
    <div class="modal-content">
      <p>Are you sure you want to logout?</p>
      <button id="confirmLogout" onclick="logout()">Yes, logout</button>
      <button id="cancelLogout" onclick="closeLogout()">Cancel</button>
    </div>
  </div>
</body>

</html>